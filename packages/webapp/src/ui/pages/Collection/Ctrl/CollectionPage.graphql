query collectionPageData($collectionId: ID!, $myProfileId: [ID!]) {
  node(id: $collectionId) {
    ... on Collection {
      id
      name
      description
      image

      followersCount: _relCount(type: Follows, target: Profile, inverse: true)
      myFollow: _rel(type: Follows, target: Profile, inverse: true, page: { first: 1 }, targetIds: $myProfileId) {
        edges {
          edge {
            id
          }
        }
      }

      myBookmarked: _rel(
        type: Bookmarked
        target: Profile
        inverse: true
        page: { first: 1 }
        targetIds: $myProfileId
      ) {
        edges {
          edge {
            id
          }
        }
      }
      resources: _rel(type: Features, target: Resource) {
        edges {
          node {
            ... on Resource {
              id
              name
              image
            }
          }
        }
      }

      creator: _rel(type: Created, target: Profile, inverse: true, page: { first: 1 }) {
        edges {
          edge {
            _created
          }
          node {
            ... on Profile {
              id
              name
              avatar
            }
          }
        }
      }

      categories: _rel(type: Features, target: IscedField) {
        edges {
          edge {
            id
          }
          node {
            ... on IscedField {
              id
              name
              code
            }
          }
        }
      }
    }
  }
}

mutation editCollection($id: ID!, $collInput: EditCollectionInput!) {
  editNode(input: { id: $id, nodeType: Collection, Collection: $collInput }) {
    ... on EditNodeMutationError {
      type
      details
    }
    ... on EditNodeMutationSuccess {
      node {
        ... on Collection {
          id
          name
          description
          image
        }
      }
    }
  }
}

mutation delCollection($node: DeleteNodeInput!) {
  deleteNode(input: $node) {
    ... on DeleteNodeMutationError {
      type
      details
    }
  }
}

mutation delCollectionRelation($edge: DeleteEdgeInput!) {
  deleteEdge(input: $edge) {
    ... on DeleteEdgeMutationError {
      type
      details
    }
  }
}

mutation addCollectionRelation($edge: CreateEdgeInput!) {
  createEdge(input: $edge) {
    ... on CreateEdgeMutationError {
      type
      details
    }
  }
}

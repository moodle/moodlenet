query getCurrentSession {
  getSession {
    ...UserSessionFrag
  }
}

query getCurrentProfile($id: ID!) {
  node(id: $id) {
    ... on Profile {
      ...CurrentProfileInfo
    }
  }
}

mutation login($username: String!, $password: String!) {
  createSession(username: $username, password: $password) {
    jwt
    message
  }
}

mutation activateNewUser($token: String!, $username: String!, $password: String!) {
  activateUser(username: $username, password: $password, token: $token) {
    jwt
    message
  }
}

fragment UserSessionFrag on UserSession {
  username
}

fragment CurrentProfileInfo on Profile {
  ...ShallowProfile
  myOwnCollections: _rel(edge: { type: Created, node: Collection }, page: { first: 100 }) {
    edges {
      node {
        ... on Collection {
          id
          name
          icon
        }
      }
    }
  }
}

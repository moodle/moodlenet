scalar Cursor
scalar AssetRef

interface IContentNode {
  name: String!
  summary: String!
  icon: AssetRef
}

input ContentNodeInput {
  name: String!
  summary: String!
  icon: AssetRefInput!
}

enum AssetRefInputType {
  TmpUpload
  ExternalUrl
  NoChange
  NoAsset
}

input AssetRefInput {
  type: AssetRefInputType!
  location: String!
}

interface INode {
  id: ID!
  _organization: Organization
  _created: GlyphByAt!
  _lastEdited: GlyphByAt
  _rel(edge: EdgeTypeInput!, page: PaginationInput): RelPage!
  _relCount(type: EdgeType!, target: NodeType!, inverse: Boolean): Int!
}

interface IEdge {
  id: ID
  _created: GlyphByAt!
  _lastEdited: GlyphByAt
}

type GlyphByAt {
  by: Profile!
  at: DateTime!
}

input EdgeTypeInput {
  type: EdgeType!
  node: NodeType!
  inverse: Boolean
  targetMe: Boolean
  targetIDs: [ID!]
}

type RelPage implements Page {
  pageInfo: PageInfo!
  edges: [RelPageEdge!]!
}

type RelPageEdge implements PageEdge {
  cursor: Cursor!
  edge: IEdge!
  node: INode!
}
